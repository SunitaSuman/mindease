{% extends 'base.html' %}

{% block title %}AI Chatbot{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-yellow-100 to-orange-200 py-12 px-4">
  <div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
      <!-- Header -->
      <div class="bg-gradient-to-r from-yellow-400 to-orange-500 p-6">
        <h2 class="text-3xl font-bold text-white text-center">ðŸ¤– Your AI Companion</h2>
        <p class="text-white text-center mt-2 opacity-90">I'm here to listen, support, and chat with you</p>
      </div>

      <!-- Chat Box -->
      <div class="p-6">
        <div id="chat-box" class="bg-gray-50 rounded-xl p-4 h-96 overflow-y-auto mb-6 space-y-4">
          <!-- Welcome Message -->
          <div class="flex items-start space-x-3">
            <div class="flex-shrink-0 w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center">
              <span class="text-white text-sm">ðŸ¤–</span>
            </div>
            <div class="flex-1 bg-yellow-50 rounded-lg p-3">
              <p class="text-gray-700">Hello! I'm your AI companion. How can I help you today?</p>
            </div>
          </div>

          {% if ai_response %}
          <div class="flex items-start space-x-3">
            <div class="flex-shrink-0 w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center">
              <span class="text-white text-sm">ðŸ¤–</span>
            </div>
            <div class="flex-1 bg-yellow-50 rounded-lg p-3">
              <p class="text-gray-700">{{ ai_response }}</p>
            </div>
          </div>
          {% endif %}
        </div>

        <!-- Input Form -->
        <form method="POST" class="space-y-4">
          {% csrf_token %}
          <div class="relative">
            <textarea 
              name="user_input" 
              placeholder="Type your message here..." 
              class="w-full px-4 py-3 rounded-xl border-2 border-yellow-200 focus:border-yellow-400 focus:ring focus:ring-yellow-200 focus:ring-opacity-50 resize-none"
              rows="3"
              required
            ></textarea>
          </div>
          <button type="submit" class="w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-white font-semibold py-3 px-6 rounded-xl hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-opacity-50">
            Send Message ðŸ’«
          </button>
        </form>
      </div>
    </div>

    <!-- Back Button -->
    <div class="text-center mt-6">
      <a href="{% url 'dashboard' %}" class="inline-flex items-center text-yellow-700 hover:text-yellow-800 transition-colors">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
        </svg>
        Back to Dashboard
      </a>
    </div>
  </div>
</div>
{% endblock %}